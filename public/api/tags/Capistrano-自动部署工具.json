{"name":"Capistrano 自动部署工具","slug":"Capistrano-自动部署工具","count":1,"postlist":[{"title":"alchemist_manage服务器部署","slug":"alchemist-manage服务器部署","date":"2018-07-11T08:55:25.000Z","updated":"2019-11-27T15:26:48.000Z","comments":true,"path":"api/articles/alchemist-manage服务器部署.json","excerpt":"<ol>\n<li>manage服务器代码上传<br>copy srpg_too 目录到 /var/webapps/alchemist_mnt    (文件所有者必须为webapp)</li>\n<li>ruby运行环境构建<br>2.1 检查依赖<br>-ruby(v2.2.2p95~)<br>-gem bundle<br>-Node.js<br>-npm<br>-bower<br>-msyql<br>-redis<br>2.1 设置gem源为淘宝源<br>Gemfile （描述gem之间依赖文件）需要如下修改<br>source ‘<a href=\"https://gems.ruby-china.org/&#39;\" target=\"_blank\" rel=\"noopener\">https://gems.ruby-china.org/&#39;</a><br>2.2  安装gem file<br>su  - webapp<br>bundle install<br>2.2.1 安装bundle 命令不存在，。<br>gem install bundle<br>2.2.2 提示gem命令不存在，就执行rbenv global 2.2.2， 如果无法运行就重新安装ruby 2.2.2 版本，流程如下<br>su - webapp<br>git clone <a href=\"https://github.com/rbenv/rbenv.git\" target=\"_blank\" rel=\"noopener\">https://github.com/rbenv/rbenv.git</a> ~/.rbenv<br>cd ~/.rbenv &amp;&amp; src/configure &amp;&amp; make -C src<br>echo ‘export PATH=”$HOME/.rbenv/bin:$PATH”‘ &gt;&gt; ~/.bash_profile<br>~/.rbenv/bin/rbenv init<br>echo ‘eval “$(rbenv init -)”‘ &gt;&gt; ~/.bash_profile<br>source ~/.bash_profile<br>git clone <a href=\"https://github.com/rbenv/ruby-build.git\" target=\"_blank\" rel=\"noopener\">https://github.com/rbenv/ruby-build.git</a> ~/.rbenv/plugins/ruby-build<br>rbenv install 2.2.2<br>rbenv global 2.2.2<br>ruby -v","keywords":null,"cover":"AADD68F1E0BFC2CE65796C5F7EEBD67E.jpg","content":null,"text":"manage服务器代码上传<br>copy srpg_too 目录到 /var/webapps/alchemist_mnt    (文件所有者必须为webapp)ruby运行环境构建<br>2.1 检查依赖<br>-ruby(v2.2.2p95~)<br>-gem bundle<","link":"","raw":null,"photos":[],"categories":[{"name":"开发环境安装","slug":"开发环境安装","count":4,"path":"api/categories/开发环境安装.json"}],"tags":[{"name":"Ruby on Rails","slug":"Ruby-on-Rails","count":1,"path":"api/tags/Ruby-on-Rails.json"},{"name":"Capistrano 自动部署工具","slug":"Capistrano-自动部署工具","count":1,"path":"api/tags/Capistrano-自动部署工具.json"}]}]}